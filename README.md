# Chinese Chess Straight Protocol

專門為肛之棋士們設計的一個簡短且好記的象棋走步通訊協定。<br>
由於編碼方式為 23456，所以用 Straight(撲克中順子的意思)命名。

## 緣由與動機

從象棋作弊的新聞中得到啟發，思考該如何讓震動次數最少，希望可以保護肛之棋士們的括約肌。

## 編碼方式

區分相同棋種方式為從右至左，先遇到的則定為第一個，如果在同一條線上則順序為從上至下。

走步使用順時針紀錄。

### 將、士

`將`為`0`、`士`為`1`

第 1 個 bit 表示棋子<br>
後 2 個 bit 表示走步<br>
總共 3 個 bit<br>

`00`為往前(`士`為往右上) 依照順時針的順序往下走，依序為`01`：往右(右下)`10`：往下(左下)`11`：往左(左上)

例：`001` -> `0` `01` -> `將`的第`2`種走步(往右)

下圖為兩隻士的所有位置對應情況，因為兩個士沒有辦法同時往同個方向移動，所以只要知道走步就能確定是哪一隻士。

<img src = "./image/A_move.png" width = "80%">

### 馬

第一個`馬`為`0`、第二個`馬`為`1`

第 1 個 bit 表示棋子<br>
後 3 個 bit 表示走步<br>
總共 4 個 bit

<img src = "./image/H_move.png" width = "80%">

例：`1011` -> `1` `011` -> 第二個`馬`的第`4`種走步(往 5 點鐘方向走)

### 象、卒

`象`：`000` `001`<br>
`卒`依序為：`010` `011` `100` `101` `110`

前 3 個 bit 表示棋子<br>
後 2 個 bit 表示走步<br>
總共 5 個 bit

`00`為往前(`象`為往右上) 依照順時針的順序往下走，依序為`01`：往右(右下)`10`：往下(左下)`11`：往左(左上)

例：`01101` -> `011` `01` -> 第二個`卒`的第`2`種走步(往右)

### 車、炮

車：`00` `01`<br>
炮：`10` `11`<br>

前 2 個 bit 表示棋子<br>
後 4 個 bit 表示走步<br>
總共 6 個 bit

特例情況 2 個 bit<br>
直接表示該棋子的第 17 種走步

例：`000001` -> `00` `0001` -> 第一個`車`的第`2`種走步
`10` -> 第一個`炮`的第`17`種走步
